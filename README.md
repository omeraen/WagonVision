### WagonVision: Real-Time Railway Wagon Number Recognition

**WagonVision** ‚Äî —ç—Ç–æ —Å–∏—Å—Ç–µ–º–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω–æ–≥–æ –∑—Ä–µ–Ω–∏—è –Ω–∞ –±–∞–∑–µ YOLOv8 –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è, –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∏ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è –Ω–æ–º–µ—Ä–æ–≤ –≥—Ä—É–∑–æ–≤—ã—Ö –∂–µ–ª–µ–∑–Ω–æ–¥–æ—Ä–æ–∂–Ω—ã—Ö –≤–∞–≥–æ–Ω–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–≤—É—Ö—Å—Ç—É–ø–µ–Ω—á–∞—Ç—ã–π –ø–æ–¥—Ö–æ–¥: —Å–Ω–∞—á–∞–ª–∞ –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç—Å—è –∑–æ–Ω–∞ –Ω–æ–º–µ—Ä–∞ –Ω–∞ –≤–∞–≥–æ–Ω–µ, –∞ –∑–∞—Ç–µ–º –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ—Å–∏–º–≤–æ–ª—å–Ω–∞—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è —Ü–∏—Ñ—Ä —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π –ø–æ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–æ–π —Å—É–º–º–µ.

---

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

* **–î–µ—Ç–µ–∫—Ü–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏**: –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–∏–¥–µ–æ–ø–æ—Ç–æ–∫–∞ (RTSP –∏–ª–∏ –∫–∞–º–µ—Ä—É) —Å –≤—ã—Å–æ–∫–æ–π —Å–∫–æ—Ä–æ—Å—Ç—å—é.
* **–í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–æ–º–µ—Ä–æ–≤**: –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –Ω–æ–º–µ—Ä–∞ –≤–∞–≥–æ–Ω–∞ (–∞–ª–≥–æ—Ä–∏—Ç–º –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–æ–π —Å—É–º–º—ã).
* **–£–º–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫**: –ê–ª–≥–æ—Ä–∏—Ç–º `repair_number` –ø—ã—Ç–∞–µ—Ç—Å—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–æ–º–µ—Ä, –µ—Å–ª–∏ –æ–¥–Ω–∞ –∏–∑ —Ü–∏—Ñ—Ä —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–∞ –Ω–µ—É–≤–µ—Ä–µ–Ω–Ω–æ, –∏—Å–ø–æ–ª—å–∑—É—è –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—É—é —Å—É–º–º—É.
* **–¢—Ä–µ–∫–∏–Ω–≥ –æ–±—ä–µ–∫—Ç–æ–≤**: –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –≤–∞–≥–æ–Ω–æ–≤ (ByteTrack) –∏ –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è —Ç–æ—á–Ω–æ—Å—Ç–∏ (Voting system).
* **RTSP –ü–æ–¥–¥–µ—Ä–∂–∫–∞**: –ì–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ —Å IP-–∫–∞–º–µ—Ä–∞–º–∏ (Hikvision, Dahua –∏ –¥—Ä.).

---

## üõ†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1.  **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**
    ```bash
    git clone https://github.com/omeraen/WagonVision.git
    cd WagonVision
    ```

2.  **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
    –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Python 3.9+.
    ```bash
    pip install ultralytics
    ```

3.  **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ –≤–µ—Å–æ–≤ –º–æ–¥–µ–ª–µ–π:**
    –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª—ã `.pt` –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞:
    * `vagonNumberDetection.pt` (–î–µ—Ç–µ–∫—Ü–∏—è –æ–±–ª–∞—Å—Ç–∏ –Ω–æ–º–µ—Ä–∞)
    * `vagonNumberClassification.pt` (–ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è —Ü–∏—Ñ—Ä)

---

## üñ•Ô∏è –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ –Ω–∞ –≤–∏–¥–µ–æ—Ñ–∞–π–ª–µ
–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `VIDEO_SOURCE` –≤ `wagon.py` –∏–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –∫–∞–∫ –µ—Å—Ç—å (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—â–µ—Ç `./test.MOV`):

```bash
python wagon.py

```

### –ó–∞–ø—É—Å–∫ —Å IP-–∫–∞–º–µ—Ä—ã (RTSP)

–í —Ñ–∞–π–ª–µ `wagon.py` –Ω–∞–π–¥–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `CAMERA_INDEX` –∏ —Ä–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ/–æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Å—Ç—Ä–æ–∫—É —Å –≤–∞—à–∏–º RTSP-–∞–¥—Ä–µ—Å–æ–º:

```python
# –ü—Ä–∏–º–µ—Ä
CAMERA_INDEX = "rtsp://"

```

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ —Å–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—Å—è –Ω–∞ RTSP –ø–æ—Ç–æ–∫.

---

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ (–≤ –∫–æ–¥–µ)

–í—ã –º–æ–∂–µ—Ç–µ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ä–∞–±–æ—Ç—ã –≤ –Ω–∞—á–∞–ª–µ —Ñ–∞–π–ª–∞ `wagon.py`:

* `DIGIT_CONF`: –ü–æ—Ä–æ–≥ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ –¥–ª—è —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è —Ü–∏—Ñ—Ä (0.30).
* `MIN_CONF_TO_FIX`: –ü–æ—Ä–æ–≥, –Ω–∏–∂–µ –∫–æ—Ç–æ—Ä–æ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º –ø—ã—Ç–∞–µ—Ç—Å—è "—É–≥–∞–¥–∞—Ç—å" —Ü–∏—Ñ—Ä—É (0.60).
* `ZONE_TOLERANCE`: –®–∏—Ä–∏–Ω–∞ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–π –∑–æ–Ω—ã –∫–∞–¥—Ä–∞, –≥–¥–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ (0.22).
* `SAVE_RESULT`: –°–æ—Ö—Ä–∞–Ω—è—Ç—å –ª–∏ –≤–∏–¥–µ–æ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ (True/False).

---

## üß† –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **–î–µ—Ç–µ–∫—Ü–∏—è**: –ú–æ–¥–µ–ª—å `vagonNumberDetection.pt` –Ω–∞—Ö–æ–¥–∏—Ç bounding box –Ω–æ–º–µ—Ä–∞ –Ω–∞ –≤–∞–≥–æ–Ω–µ.
2. **–ö—Ä–æ–ø –∏ –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è**: –í—ã—Ä–µ–∑–∞–Ω–Ω–∞—è –æ–±–ª–∞—Å—Ç—å –ø–æ–¥–∞–µ—Ç—Å—è –≤ `vagonNumberClassification.pt` –¥–ª—è —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ü–∏—Ñ—Ä.
3. **–õ–æ–≥–∏–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏**:
* –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –¥–ª–∏–Ω–∞ (8 —Ü–∏—Ñ—Ä).
* –°—á–∏—Ç–∞–µ—Ç—Å—è –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è —Å—É–º–º–∞ (–ø–æ—Å–ª–µ–¥–Ω—è—è —Ü–∏—Ñ—Ä–∞).
* –ï—Å–ª–∏ —Å—É–º–º–∞ –Ω–µ —Å—Ö–æ–¥–∏—Ç—Å—è, —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–±—É–µ—Ç –ø–æ–¥—Å—Ç–∞–≤–∏—Ç—å –Ω–∞–∏–±–æ–ª–µ–µ –≤–µ—Ä–æ—è—Ç–Ω—ã–µ —Ü–∏—Ñ—Ä—ã –≤ "—Å–ª–∞–±—ã–µ" –ø–æ–∑–∏—Ü–∏–∏.


4. **–ê–≥—Ä–µ–≥–∞—Ü–∏—è**: –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –Ω–∞–∫–∞–ø–ª–∏–≤–∞—é—Ç—Å—è –ø–æ–∫–∞ –≤–∞–≥–æ–Ω –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –∫–∞–¥—Ä–µ. –§–∏–Ω–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å—É–º–º—ã —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–µ–π (confidence scores).

---

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

* Python 3.x
* OpenCV (`cv2`)
* Ultralytics YOLOv8 (`ultralytics`)
* PyTorch (–¥–ª—è —Ä–∞–±–æ—Ç—ã –º–æ–¥–µ–ª–µ–π)
* NVIDIA GPU (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –≤—ã—Å–æ–∫–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏)

---